<h1>Timeline</h1>

<timeline></timeline>

<material-button class="blue-button"
                 (trigger)="startNewRecord()"
                 [disabled]="showEditDialog"
                 raised>
  Add new
</material-button>

<modal [(visible)]="showEditDialog">
  <material-dialog>
    <h1 header>Add/Edit event</h1>
    <material-input
        label="Event name"
        [(ngModel)]="editEventTitle"
        required
        floatingLabel></material-input>
    <material-date-range-picker class="simplified-example"
                                compact
                                [(range)]="editEventRange">
    </material-date-range-picker>
    <div footer>
      <material-button class="blue-button"
                       autoFocus
                       (trigger)="saveEditEvent()">Save</material-button>
      <material-button *ngIf="editEventCurrent != null" class="red-text-button"
                       (trigger)="removeCurrentRecord()">Remove</material-button>
      <material-button (trigger)="closeEditDialog()">Close</material-button>
    </div>
  </material-dialog>
</modal>

<h2>Events</h2>

<ul>
  <li *ngFor="let record of recordsBloc.records | async">
    <strong>{{record.title}}</strong> &mdash; {{ record.start | date}} &nbsp;
    <material-button class="blue-text-button"
                     (trigger)="startEdit(record)">Edit</material-button>
  </li>
</ul>
